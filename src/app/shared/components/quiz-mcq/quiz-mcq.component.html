<!-- Quiz Card -->
<ion-card mode="ios">
  <ion-card-content>
    <!-- Question Section -->
    <div class="border-b border-gray-100">
      <div class="flex items-start space-x-4">
        <div class="flex-shrink-0 w-8 h-8 bg-neutral-800 rounded-full flex items-center justify-center">
          <span class="font-semibold text-sm text-white">{{ currentQuestion().id }}</span>
        </div>
        <div class="flex-1">
          <div class="text-lg text-gray-800">
            {{ currentQuestion().text }}
          </div>
        </div>
      </div>
    </div>

    <!-- Options Section -->
    <div class="p-0 space-y-4 ion-padding-top">
      <div class="space-y-3">
        <ion-list>
          <ion-radio-group [value]="answerValue" (ionChange)="onOptionSelected($event)">
            @for (option of currentQuestion().options; track option.id; let last = $last) {
              <ion-item 
                class="ion-no-paddingx ion-no-marginx"
                [class.selected]="selectedOption() === option.value"
                [lines]="last ? 'none' : 'full'"
              >
                <ion-radio [value]="option.value" mode="md" labelPlacement="end" justify="start">{{ option.label }}</ion-radio>
              </ion-item>
            }
          </ion-radio-group>
        </ion-list>
      </div>
    </div>
  </ion-card-content>
</ion-card>

<!-- Action Buttons -->
<div class="ion-padding-top grid grid-cols-3 gap-2">
  <ion-button mode="ios" shape="round" color="light" (click)="previousQuestion()">
    <ion-icon name="chevron-back" slot="start"></ion-icon>
  </ion-button>

  <ion-button mode="ios" shape="round" color="secondary" (click)="skipQuestion()" [disabled]="canSkip()">
    <ion-text>Skip</ion-text>
  </ion-button>

  <ion-button mode="ios" shape="round" color="light" (click)="nextQuestion()">
    <ion-icon name="chevron-forward" slot="icon-only"></ion-icon>
  </ion-button>
</div>

<div class="px-8 py-6 bg-gray-50 border-t border-gray-100">
  <div class="flex justify-between items-center">
    <button 
      (click)="previousQuestion()"
      [disabled]="!canGoPrevious()"
      class="px-6 py-2.5 text-gray-600 hover:text-gray-800 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed">
      ← Previous
    </button>
    <div class="flex space-x-3">
      <button 
        (click)="skipQuestion()"
        class="px-6 py-2.5 text-indigo-600 hover:text-indigo-700 font-medium border border-indigo-200 hover:border-indigo-300 rounded-lg transition-all duration-200 hover:shadow-sm">
        Skip
      </button>
      <button 
        (click)="nextQuestion()"
        [disabled]="!canProceed()"
        class="px-8 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-medium rounded-lg transition-all duration-200 hover:shadow-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100">
        {{ isLastQuestion() ? 'Finish' : 'Next' }} →
      </button>
    </div>
  </div>
</div>
